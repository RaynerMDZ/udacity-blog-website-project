<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Image Uploader V2 ‚Äî Server, Azure, Database.</title>

    <link rel="stylesheet" href="css/post.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header class="header">
        <a href="index.html" class="logo"><img src="images/free-logo-841x0npbi1-ax645pvf0g.jpg" alt="Rayner's Blog logo"></a>
        <nav>
            <ul class="nav">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <div class="java-image-uploader-container">
        <div>
            <h1>Java Image Uploader V2 ‚Äî Server, Azure, Database</h1>
            <small>By Rayner Mendez on May 12, 2022</small>
        </div>

        <blockquote cite="https://medium.com/@raynermdz/java-image-uploader-v2-server-azure-database-f120639a76f0"><p>Because the V1 was having some implementation issues, I decided to create a new version of the old one.
            This version has Dependency Injection, an organized structure, 3 ways to upload the picture,
            and a view for testing purposes.</p></blockquote>

        <p>This project was made with Java 8, HTML5, CSS3, Bootstrap 4, Spring Boot 2, Spring Framework 5,
            H2-database, JPA/Hibernate, Thymeleaf, and Azure.</p>

        <p>The purpose of this publication is not to explain detailed how this works. It is just to give you a
            brief introduction to this project. In order to see it working, you will have to download it from
            <em>GitHub</em> and run it on your own computer.</p>

        <p><strong>SPOILER:</strong> this is going to be really fun.</p>

        <p>Let‚Äôs get started‚Ä¶</p>

        <p>In this <em>IndexController</em> we have the root of the web app. This method only displays all the pictures
            registered in the <em>database</em>. Very simple stuff.</p>

        <img src="images/java-image-uploader-images/1.png" alt="Picture 1">

        <p>Here we have the <em>PictureController</em>. This controller handles every request from the client such as
            saving a picture, updating a picture, deleting a picture, and retrieving a picture by its id.</p>

        <img src="images/java-image-uploader-images/2.png" alt="Picture 2">

        <p>This is our model that holds data of the picture. We are going to use Project Lombok to get
            things done faster. Make sure you install Project Lombok on your IDE. With the <em>@Data</em> annotation,
            Project Lombok automatically generates an empty constructor, a constructor with every field,
            getters and setters, equals and hashcode, and <em>toString()</em>. I think I am missing something üòù</p>

        <img src="images/java-image-uploader-images/3.png" alt="Picture 3">

        <p>The magic starts here. I have created a factory with the implementations of <em>PictureService</em>.
            In the frontend, you get to choose where you want to store your picture.</p>

        <img src="images/java-image-uploader-images/4.png" alt="Picture 4">

        <img src="images/java-image-uploader-images/5.png" alt="Picture 5">

        <p>Your choices are to the Server, to a Cloud Storage like Azure (Blob storage used in this example),
            and to the Database.</p>

        <img src="images/java-image-uploader-images/6.png" alt="Picture 6">

        <p>This is how the image is saved to the server. Basically a new file is created with the
            bytes of the multipart file.</p>

        <img src="images/java-image-uploader-images/7.png" alt="Picture 7">

        <p>s image below is how the multipart file gets uploaded to the storage.</p>

        <img src="images/java-image-uploader-images/8.png" alt="Picture 8">

        <img src="images/java-image-uploader-images/9.png" alt="Picture 9">

        <img src="images/java-image-uploader-images/10.png" alt="Picture 10">

        <p>In this case, I am using the Azure credentials from a .properties file specified by
            <em>@ProperySource(‚Äúclasspath:azure.properties.‚Äù)</em></p>

        <p>The <em>@Value</em> annotation takes the content in the field specified inside the annotation.
            We see that <em>@Value(‚Äú${azure.storageConnectionString}‚Äù)</em> matches the one in the <u>azure.properties</u> file.</p>

        <p>I know this is not all, but this project has too much information to be cover in just one post.
            I invite you all to check <a href="https://github.com/RaynerMDZ/Java-Image-Uploader-V2">the GitHub repo.</a></p>

        <p><strong>Feel free to fork and contribute to this project.</strong></p>

    </div>

    <footer class="footer">
        <p>Created by Rayner Mendez | 2022</p>
        <br>
        <p class="social">
            <a href="https://github.com/RaynerMDZ" target="_blank">GitHub</a>
            <a href="https://www.linkedin.com/in/raynermendez/">LinkedIn</a>
            <a href="https://medium.com/@raynermdz">Medium</a>
        </p>
    </footer>

</body>
</html>